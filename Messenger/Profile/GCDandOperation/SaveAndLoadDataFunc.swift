//
//  SaveAndLoadData.swift
//  Messenger
//
//  Created by Bogdan Belogurov on 21/10/2018.
//  Copyright Â© 2018 Bogdan Belogurov. All rights reserved.
//

import Foundation


class SaveAndLoadData {
    
    func saveData(userProfile: UserProfile) -> Bool {
        let currentName = UserDefaults.standard.getUserName()
        let currentDescription = UserDefaults.standard.getUserDescription()
        let currentImage = UserDefaults.standard.getUserImage()
    
        if userProfile.name != currentName {
            UserDefaults.standard.setUserName(value: userProfile.name ?? "Name" )
        }
        if userProfile.description != currentDescription {
            UserDefaults.standard.setUserDescription(value: userProfile.description ?? "Description" )
        }
        if userProfile.image != currentImage {
            UserDefaults.standard.setUserImage(image: userProfile.image ?? UIImage(named: "placeholder-user")!)
        }
        return true
    }
    
    func loadData() -> UserProfile {
        let profile: UserProfile = UserProfile(name: "Name", description: "Description", image: UIImage(named: "placeholder-user")!)
        profile.image = UserDefaults.standard.getUserImage()
        profile.name = UserDefaults.standard.getUserName()
        profile.description = UserDefaults.standard.getUserDescription()
        return profile
    }
    
}
